<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css">
    <link rel="stylesheet" href="assets/css/app.css" type="text/css">
    <link rel="shortcut icon" href="../Common/img/favicon.png">
    <title>Manage Song Categories - LXXL Music</title>
</head>
<body>
    <!-- Preloader -->
    <div class="preloader">
        <div class="preloader-icon"></div>
    </div>
    <!-- ./ Preloader -->

    <!-- Layout wrapper -->
    <div class="layout-wrapper">
        <!-- Header -->
        <div class="header d-print-none">
            <div class="header-container">
                <div class="header-left">
                    <div class="navigation-toggler">
                        <a href="#" data-action="navigation-toggler">
                            <i data-feather="menu"></i>
                        </a>
                    </div>
                    <div class="header-logo">
                        <a href="index.html">
                            <img class="logo" src="../Common/img/logo.png" alt="LXXL Music">
                        </a>
                    </div>
                </div>
                <div class="header-body">
                    <div class="header-body-left">
                        <div class="page-title">
                            <h1>Manage Song Categories</h1>
                        </div>
                    </div>
                    <div class="header-body-right">
                        <ul class="navbar-nav">
                            <!-- User menu -->
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link" data-toggle="dropdown">
                                    <figure class="avatar avatar-sm avatar-state-success">
                                        <img src="assets/media/image/user/profile-pic.jpg" class="rounded-circle" alt="avatar">
                                    </figure>
                                </a>
                                <div class="dropdown-menu dropdown-menu-right">
                                    <a href="profile.html" class="dropdown-item">Profile</a>
                                    <a href="account-settings.html" class="dropdown-item">Settings</a>
                                    <a href="../logout.html" class="dropdown-item text-danger">Logout</a>
                                </div>
                            </li>
                            <!-- ./ User menu -->
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- ./ Header -->

        <!-- Content wrapper -->
        <div class="content-wrapper">
            <!-- begin::navigation -->
            <div class="navigation">
                <div class="navigation-menu-tab">
                    <div>
                        <div class="navigation-menu-tab-header" data-toggle="tooltip" title="User Menu" data-placement="right">
                            <a href="#" class="nav-link" data-toggle="dropdown" aria-expanded="false">
                                <figure class="avatar avatar-sm avatar-state-success">
                                    <img src="assets/media/image/user/profile-pic.jpg" class="rounded-circle" alt="avatar">
                                </figure>
                            </a>
                        </div>
                    </div>
                    <div class="flex-grow-1">
                        <ul>
                            <li>
                                <a class="icon" href="dashboard.html" data-toggle="tooltip" data-placement="right" title="Dashboard">
                                    <i data-feather="bar-chart-2"></i>
                                </a>
                            </li>
                            <li>
                                <a class="icon" href="my-music.html" data-toggle="tooltip" data-placement="right" title="My Music">
                                    <i data-feather="music"></i>
                                </a>
                            </li>
                            <li>
                                <a class="active icon" href="categories.html" data-toggle="tooltip" data-placement="right" title="Categories">
                                    <i data-feather="tag"></i>
                                </a>
                            </li>
                            <li>
                                <a class="icon" href="playlists.html" data-toggle="tooltip" data-placement="right" title="Playlists">
                                    <i data-feather="list"></i>
                                </a>
                            </li>
                            <li>
                                <a class="icon" href="favorites.html" data-toggle="tooltip" data-placement="right" title="Favorites">
                                    <i data-feather="heart"></i>
                                </a>
                            </li>
                            <li>
                                <a class="icon" href="profile.html" data-toggle="tooltip" data-placement="right" title="Profile">
                                    <i data-feather="user"></i>
                                </a>
                            </li>
                            <li>
                                <a class="icon" href="account-settings.html" data-toggle="tooltip" data-placement="right" title="Settings">
                                    <i data-feather="settings"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div>
                        <ul>
                            <li>
                                <a class="icon" href="../logout.html" data-toggle="tooltip" data-placement="right" title="Logout">
                                    <i data-feather="log-out"></i>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="navigation-menu-body">
                    <div class="navigation-menu-group">
                        <div class="open" id="dashboards">
                            <ul>
                                <li class="navigation-divider">MENU</li>
                                <li><a href="dashboard.html">Dashboard</a></li>
                                <li><a href="my-music.html">My Music</a></li>
                                <li><a class="active" href="categories.html">Manage Categories</a></li>
                                <li><a href="playlists.html">Playlists</a></li>
                                <li><a href="favorites.html">Favorites</a></li>
                                <li class="navigation-divider">USER</li>
                                <li><a href="profile.html">My Profile</a></li>
                                <li><a href="account-settings.html">Account Settings</a></li>
                                <li><a href="../logout.html">Logout</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end::navigation -->

            <!-- Content body -->
            <div class="content-body">
                <!-- Content -->
                <div class="content">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-body">
                                    <h6 class="card-title">Category Statistics</h6>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="card border">
                                                <div class="card-body text-center">
                                                    <h2 class="font-weight-bold" id="total-songs">0</h2>
                                                    <div>Total Songs</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="card border">
                                                <div class="card-body text-center">
                                                    <h2 class="font-weight-bold" id="total-categories">0</h2>
                                                    <div>Available Categories</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="card border">
                                                <div class="card-body text-center">
                                                    <h2 class="font-weight-bold" id="avg-categories">0</h2>
                                                    <div>Avg Categories per Song</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-body">
                                    <h6 class="card-title">Manage Song Categories</h6>
                                    <p class="text-muted">Assign categories to your uploaded songs for better organization.</p>
                                    <div class="row mb-3">
                                        <div class="col-md-6 mb-3 mb-md-0">
                                            <div class="input-group">
                                                <input type="text" class="form-control" id="song-search" placeholder="Search songs...">
                                                <div class="input-group-append">
                                                    <button class="btn btn-primary" type="button" id="search-btn">
                                                        <i data-feather="search"></i>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <select class="form-control" id="category-filter">
                                                <option value="">All Categories</option>
                                                <!-- Categories will be loaded here -->
                                            </select>
                                        </div>
                                    </div>
                                    <div class="table-responsive">
                                        <table class="table table-hover table-striped">
                                            <thead>
                                                <tr>
                                                    <th>Song</th>
                                                    <th>Categories</th>
                                                    <th>Created Date</th>
                                                    <th>Status</th>
                                                    <th>Actions</th>
                                                </tr>
                                            </thead>
                                            <tbody id="song-categories-table">
                                                <tr>
                                                    <td colspan="5" class="text-center">Loading songs...</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ./ Content -->

                <!-- Footer -->
                <footer class="content-footer">
                    <div>&copy; 2023 LXXL Music - All Rights Reserved</div>
                    <div>
                        <nav class="nav">
                            <a href="../Legal/terms.html" class="nav-link">Terms of Use</a>
                            <a href="../Legal/privacy.html" class="nav-link">Privacy Policy</a>
                        </nav>
                    </div>
                </footer>
                <!-- ./ Footer -->
            </div>
            <!-- ./ Content body -->
        </div>
        <!-- ./ Content wrapper -->
    </div>
    <!-- ./ Layout wrapper -->

    <!-- Edit Categories Modal -->
    <div class="modal fade" id="editCategoriesModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Edit Song Categories</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <i data-feather="x"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <input type="hidden" id="edit-song-id">
                    <div class="form-group">
                        <label for="edit-song-name">Song Name</label>
                        <input type="text" class="form-control" id="edit-song-name" readonly>
                    </div>
                    <div class="form-group">
                        <label for="edit-categories">Categories</label>
                        <select class="form-control" id="edit-categories" multiple>
                            <!-- Categories will be loaded here -->
                        </select>
                        <small class="form-text text-muted">Select one or more categories</small>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" id="save-categories">Save Changes</button>
                </div>
            </div>
        </div>
    </div>
    <!-- ./ Edit Categories Modal -->

    <!-- Bundle scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Select2 -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <!-- Feather Icons -->
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <!-- Axios library -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <!-- Import config and API utils -->
    <script src="../Common/js/config.js" type="module"></script>
    <script src="../Common/js/api.js" type="module"></script>
    <!-- Categories script -->
    <script src="assets/js/categories.js" type="module"></script>
    
    <!-- Initialize feather icons -->
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        feather.replace();
      });
    </script>
</body>
</html>
